<!DOCTYPE html>
<html>
<head>
<title>Make a match</title>
<script>
var time;
var anger;
function start(){
document.getElementById("master").style.display='none';
document.getElementById("play").style.display='none';
//document.getElementById("play").id ="started"
time =setInterval(timer,1000);
begin();
}
</script>
<link href="third.css" type="text/css" rel="stylesheet">

</head>
<body>
<img src="blue.jpg" id="img"/>
<img src="blue2.jpg" id="img2"/>
<div id="head">
<img src="fireeyes.jpg" id="eyes">
<h1>Make the match</h1>
<h3>As much as possible!</h3>
<h4>Good luck!.</h4>
</div>
<div id="master">
</div><div id="play" ><a href="javascript:start()">
PLAY!</a></div>
<table id="table">
<tr >
	<td id="none"onclick="uncover(1)"> </td>
	<td id="none"onclick="uncover(2)"> </td>
	<td id="none"onclick="uncover(3)"> </td>
	<td id="none"onclick="uncover(4)"> </td>
</tr>
<tr >
	<td id="none"onclick="uncover(5)"> </td>
	<td id="none"onclick="uncover(6)"> </td>
	<td id="none"onclick="uncover(7)"> </td>
	<td id="none"onclick="uncover(8)"> </td>
</tr>
<tr >
	<td id="none"onclick="uncover(9)"> </td>
	<td id="none"onclick="uncover(10)"> </td>
	<td id="none"onclick="uncover(11)"> </td>
	<td id="none"onclick="uncover(12)"> </td>
</tr>
<tr >
	<td id="none"onclick="uncover(13)"> </td>
	<td id="none"onclick="uncover(14)"> </td>
	<td id="none"onclick="uncover(15)"> </td>
	<td id="none"onclick="uncover(16)"> </td>
</tr>
</table>
<div id="time">time:000</div>
<script>
var seconds=0;
function timer(){
seconds++;
if(seconds==5)
eyes();
if(seconds==10)
{document.getElementById("head").style.background="rgb(3, 25, 61)";}
if(seconds<=9)
document.getElementById("time").innerHTML ='time:00'+seconds;
else if(seconds<=99)
document.getElementById("time").innerHTML ='time:0'+seconds;
else 
{//document.getElementById("time").innerHTML ='time:'+seconds;
clearInterval(time);
lost();
}
if(document.getElementById("none")==null)
finish();

}
var alpha = ['I','D','R','A','G','O','N','S'];
var alpha2 = alpha.concat(alpha);
function begin(){
function shuffle(array) {
  var currentIndex = array.length, temporaryValue, randomIndex;
  while (0 !== currentIndex) {
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
}
var alpha3 = shuffle(alpha2);
var table = document.getElementById("table");
for(var i=0,row;row=table.rows[i];i++)
{
	for(var j=0,cell;cell=row.cells[j];j++)
	{	
		if(i===0)
		{cell.innerHTML=alpha3[j];}
		else if(i===1)
		cell.innerHTML=alpha3[j+4];
		else if(i===2)
		cell.innerHTML=alpha3[j+8];
		else
		cell.innerHTML=alpha3[j+12];
	}
}
}
function uncover(place){
{
	if(place<5)
	{if(document.getElementById("table").rows[0].cells[place-1].id=="paired")return;}
	else if(place>=5 && place<9)
	{if(document.getElementById("table").rows[1].cells[place-5].id=="paired")return;}
	else if(place>=9 && place<13)
	{if(document.getElementById("table").rows[2].cells[place-9].id=="paired")return;}
	else
	{if(document.getElementById("table").rows[3].cells[place-13].id=="paired")return;}
}
if(document.getElementById("active1")==null)
{
if(place<5)
document.getElementById("table").rows[0].cells[place-1].id= "active1";
//break;}
else if(place>=5 && place<9)
document.getElementById("table").rows[1].cells[place - 5].id= "active1";
//break;}
else if(place>=9 && place<13)
document.getElementById("table").rows[2].cells[place - 9].id= "active1";
//break;}
else
document.getElementById("table").rows[3].cells[place - 13].id= "active1";
//break;}
document.getElementById('active1').style.pointerEvents = 'none';
return;
}
else if(document.getElementById("active1")!= null && document.getElementById("active2")==null)
{
if(place<5)
document.getElementById("table").rows[0].cells[place-1].id= "active2";
else if(place>=5 && place<9)
document.getElementById("table").rows[1].cells[place - 5].id= "active2";
else if(place>=9 && place<13)
document.getElementById("table").rows[2].cells[place - 9].id= "active2";
else
document.getElementById("table").rows[3].cells[place - 13].id= "active2";
//}
document.getElementById('active1').style.pointerEvents = 'auto';
if(document.getElementById("active1").textContent == document.getElementById("active2").textContent)
{
	document.getElementById("active1").id="paired";
	document.getElementById("active2").id="paired";
	forward();
}
else
{	
	window.setTimeout(reset,1000);
	function reset(){
	console.log("I am Waiting");
	
	document.getElementById("active1").id="none";
	document.getElementById("active2").id="none";}
	
}
}
	}	
var move=0;
var limit=0;
function forward(){
move+=1366/8;
animate();
}
function animate(){
var id=setInterval(go,10);
if(move<limit-1)
clearInterval(id);
	function go(){
	if(move>limit)
	{document.getElementById("img").style.width=limit+'px';
	document.getElementById("img2").style.width=limit+'px';
	limit++;
	document.getElementById("img").style.opacity=limit/1000;
	document.getElementById("img2").style.opacity=limit/1000;}
				}
	}
var red;
var down;
function eyes(){
var red=0;
var down=1000;
anger=setInterval(glow,1);
function glow(){
if(red<1000)
{red++;document.getElementById("eyes").style.opacity=red/1000;down=1000;}
else if(red>1000)
red=1000;
else if(red==1000)
{down--;document.getElementById("eyes").style.opacity=down/1000;}
else if(down<0)
down==0;
if(red==1000&& down==0)
{
red=0;down=1000;}
}
}
function stopeyes(red){
clearInterval(anger);
setInterval(stop,1);
function stop(){
if(red<1000)
{red++;document.getElementById("eyes").style.opacity=red/1000;}
else if(red>1000)
red=1000;
}
}
function finish()
{
	clearInterval(time);
	
	document.getElementById("table").style.background="black";
	document.getElementById("table").style.backgroundImage=" url('ID.png')";
	document.getElementById("table").style.backgroundPosition="Center";
	document.getElementById("table").style.backgroundSize=400+"px";
	document.getElementById("table").style.backgroundRepeat=" no-repeat";
	document.getElementById("table").style.borderRadius= 30+"px";
	//document.getElementById("table").style.backgroundImage.height=400+"px";
	var table = document.getElementById("table");
	for(var i=0,row;row=table.rows[i];i++)
	row.style.opacity="0";
	//document.getElementById("master").style.display='block';
	//document.getElementById("master").style.opacity='1';
	document.getElementById("play").style.display='block';
	document.getElementById("play").id='end';
	document.getElementById("end").innerHTML="Congratulations" +'<br>'+"You Won this Dumb game";
	document.getElementById("time").style.background='rgb(43, 51, 66)';
	stopeyes(red);
	document.getElementById("eyes").style.opacity='1';
	
function lost(){
	//document.getElementById("master").style.backgroundImage="url('DragonEye.jpg')";
	//document.getElementById("master").style.opacity='1';
	document.getElementById("play").id='end';
	document.getElementById("end").innerHTML="YOU ARE LATE";
	document.getElementById("end").style.display="block";
	document.getElementById("master").style.display='block';
	document.getElementById("time").style.background='grey';
	clearInterval(anger);
	document.getElementById("eyes").style.opacity='1';
	}
</script>
</body>
</html>
